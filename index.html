<!DOCTYPE html>
<html>

<head>
    <title>Daft Punk - Music Board</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body>



    <style>
        body {
            background: black;
        }

        td {
            opacity: 0.3;
            border: 10px black solid;
            border-right: 0;
            border-top: 0;
            width: 50%;
            text-align: center;
            font-size: 30px;
            color: white;
            font-family: arial;
            cursor: pointer;
        }
    </style>





    <table border="0" cellspacing="0"
        style="border-top:5px black solid;border-right:5px black solid;position:fixed;left:0;right:0;top:0;width:100%;height:100%">
        <tr>
            <td style="background:#ff0000" onclick="play(this)">
                Work it
            </td>
            <td style="background:#ff0000" onclick="play(this)">
                Make it
            </td>
        </tr>

        <tr>
            <td style="background:#800080" onclick="play(this)">
                Do it
            </td>
            <td style="background:#800080" onclick="play(this)">
                Make us
            </td>
        </tr>

        <tr>
            <td style="background:#0000ff" onclick="play(this)">
                Harder
            </td>
            <td style="background:#0000ff" onclick="play(this)">
                Better
            </td>
        </tr>

        <tr>
            <td style="background:#008080" onclick="play(this)">
                Faster
            </td>
            <td style="background:#008080" onclick="play(this)">
                Stronger
            </td>
        </tr>

        <tr>
            <td style="background:#004D4D" onclick="play(this)">
                More than
            </td>
            <td style="background:#004D4D" onclick="play(this)">
                Hour
            </td>
        </tr>

        <tr>
            <td style="background:#808000" onclick="play(this)">
                Our
            </td>
            <td style="background:#808000" onclick="play(this)">
                Never
            </td>
        </tr>

        <tr>
            <td style="background:#ffa500" onclick="play(this)">
                Ever
            </td>
            <td style="background:#ffa500" onclick="play(this)">
                After
            </td>
        </tr>

        <tr>
            <td style="background:#ff0000" onclick="play(this)">
                Work is
            </td>
            <td style="background:#ff0000" onclick="play(this)">
                Over
            </td>
        </tr>


        <tr>
            <td style="background:#fff;color:black;" colspan="2" onclick="playGeneral(this)">
                <svg id="icon_play" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                    class="bi bi-play-fill" viewBox="0 0 16 16">
                    <path
                        d="M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z" />
                </svg>

                <svg id="icon_stop" style="display:none" xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                    fill="currentColor" class="bi bi-stop-fill" viewBox="0 0 16 16">
                    <path
                        d="M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5z" />
                </svg> <span id="txt_play">PLAY</span>
            </td>
        </tr>

    </table>



    <div id="sounds">
    </div>


    <script>

        var timer_music;
        var time = 0;

        $('td').each(function () {

            var slug = $(this).html().trim().replace(/ /g, '_');

            var html = '<audio id="loop' + slug + '" ><source src="static/' + slug + '.mp3" type="audio/mp3"></audio>';
            $('#sounds').append(html);


        });




        function play(obj) {

            var slug = $(obj).html().trim().replace(/ /g, '_');

            $('#loop' + slug)[0].play();

            if (!time) {
                enlight(obj);
            }

        }


        function enlight(obj) {
            $(obj).css('opacity', 1).animate({
                'opacity': '-=0.7'
            }, 1500);

            //play(obj);
        }


        function playGeneral(obj) {


            enlight(obj);


            if (time) {
                clearInterval(timer_music);
                time = 0;
                $('#txt_play').html('PLAY');
                $('#icon_stop').hide();
                $('#icon_play').show();

            } else {


                $('#txt_play').html(3);
                $('#icon_play').hide();
                $('#icon_stop').hide();

                timer_music = setInterval(function () {
                    time++;


                    if (time < 4) {
                        $('#txt_play').html(3 - time);
                    } else if (time == 4) {
                        $('#txt_play').html('STOP');
                        $('#icon_stop').show();
                        $('#icon_play').hide();
                    }


                    if (time == 3) {
                        enlight('td:eq(0)');
                    } else if (time == 4) {
                        enlight('td:eq(1)');
                    } else if (time == 6) {
                        enlight('td:eq(2)');
                    } else if (time == 8) {
                        enlight('td:eq(3)');
                    } else if (time == 10) {
                        enlight('td:eq(4)');
                    } else if (time == 12) {
                        enlight('td:eq(5)');
                    } else if (time == 14) {
                        enlight('td:eq(6)');
                    } else if (time == 16) {
                        enlight('td:eq(7)');
                    } else if (time == 18) {
                        enlight('td:eq(8)');
                    } else if (time == 20) {
                        enlight('td:eq(9)');
                    } else if (time == 22) {
                        enlight('td:eq(10)');
                    } else if (time == 24) {
                        enlight('td:eq(11)');
                    } else if (time == 26) {
                        enlight('td:eq(12)');
                    } else if (time == 28) {
                        enlight('td:eq(13)');
                    } else if (time == 30) {
                        enlight('td:eq(14)');
                    } else if (time == 32) {
                        enlight('td:eq(15)');
                    }

                    else if (time == 34) {
                        enlight('td:eq(0)');
                    } else if (time == 35) {
                        enlight('td:eq(4)');
                    } else if (time == 36) {
                        enlight('td:eq(1)');
                    } else if (time == 37) {
                        enlight('td:eq(5)');
                    } else if (time == 38) {
                        enlight('td:eq(2)');
                    } else if (time == 39) {
                        enlight('td:eq(6)');
                    } else if (time == 40) {
                        enlight('td:eq(3)');
                    } else if (time == 41) {
                        enlight('td:eq(7)');
                    } else if (time == 42) {
                        enlight('td:eq(8)');
                    } else if (time == 43) {
                        enlight('td:eq(12)');
                    } else if (time == 44) {
                        enlight('td:eq(9)');
                    } else if (time == 45) {
                        enlight('td:eq(13)'); //after
                    } else if (time == 46) {
                        enlight('td:eq(10)');
                    } else if (time == 47) {
                        enlight('td:eq(14)');
                    } else if (time == 48) {
                        enlight('td:eq(11)');
                    } else if (time == 49) {
                        enlight('td:eq(15)');
                    }

                    else if (time == 50) {
                        enlight('td:eq(0)');
                    } else if (time == 51) {
                        enlight('td:eq(4)');
                    } else if (time == 52) {
                        enlight('td:eq(1)');
                    } else if (time == 53) {
                        enlight('td:eq(5)');
                    } else if (time == 54) {
                        enlight('td:eq(2)');
                    } else if (time == 55) {
                        enlight('td:eq(6)');
                    } else if (time == 56) {
                        enlight('td:eq(3)');
                    } else if (time == 57) {
                        enlight('td:eq(7)');
                    } else if (time == 58) {
                        enlight('td:eq(8)');
                    } else if (time == 59) {
                        enlight('td:eq(12)');
                    } else if (time == 60) {
                        enlight('td:eq(9)');
                    } else if (time == 61) {
                        enlight('td:eq(13)'); //after
                    } else if (time == 62) {
                        enlight('td:eq(10)');
                    } else if (time == 63) {
                        enlight('td:eq(14)');
                    } else if (time == 64) {
                        enlight('td:eq(11)');
                    } else if (time == 65) {
                        enlight('td:eq(15)');
                    } else if (time == 66) {
                        playGeneral(obj);
                    }



                }, 500);

            }



        }

    </script>

</body>

</html>
